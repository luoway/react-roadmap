# 组件生命周期 - useEffect
在类式组件中，开发者往往需要分别在组件的挂载、更新、卸载前后各个回调函数里，完成关联的任务处理（如事件的监听、移除监听）。这导致相关联的代码必须根据执行时机的不同，分散到不同的生命周期回调函数里。

React Hook 决定在函数式组件中改善这个问题。提供了 useEffect 钩子函数，用法归纳为三点：
- `useEffect( fn )` ，每次渲染组件后都会执行。
- `useEffect( fn, deps)` ，首次渲染后执行，之后仅 `deps` 依赖的状态发生变化时执行。
- `useEffect( fn, [])` ，仅首次渲染后执行。

其中，`fn` 异步执行，执行时不会重新触发组件渲染的同步代码，可以访问DOM。`fn` 可选返回一个函数，在组件卸载时执行。

## 参考资料
- [React Hook 源码解析 - useEffect](https://zhuanlan.zhihu.com/p/94890255)